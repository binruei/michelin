<!DOCTYPE html>
<html lang="zh-TW">
<head>
  <meta charset="UTF-8">
  <title>台南米其林美食查詢</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@400;700&display=swap" rel="stylesheet">
  <style>
    body {
      font-family: 'Noto Sans TC', '微軟正黑體', sans-serif;
      min-height: 100vh;
      background: linear-gradient(120deg, #fffbe6 0%, #ffffff 100%);
    }
    .header-img {
      display: block;
      width: 100%;
      max-width: 1100px;
      margin: 32px auto 18px auto;
      border-radius: 18px;
      box-shadow: 0 4px 16px rgba(169,68,66,0.12);
    }
    .navbar {
      background: rgba(169,68,66,0.95);
      box-shadow: 0 2px 8px rgba(169,68,66,0.15);
    }
    .navbar-brand {
      font-weight: bold;
      font-size: 1.7rem;
      color: #fffbe6 !important;
      letter-spacing: 3px;
      text-shadow: 1px 1px 3px #a94442;
      padding: 10px 0;
      display: block;
      text-align: center;
      width: 100%;
    }
    .switch-group {
      display: flex;
      gap: 10px;
      margin-bottom: 16px;
      justify-content: center;
    }
    .switch-btn {
      border-radius: 12px;
      border: 2px solid #A94442;
      background: #fffbe6;
      color: #A94442;
      font-weight: bold;
      padding: 8px 22px;
      font-size: 1.05rem;
      cursor: pointer;
      transition: background 0.2s, color 0.2s;
    }
    .switch-btn.active, .switch-btn:hover {
      background: #A94442;
      color: #fffbe6;
    }
    .form-label {
      color: #A94442;
      font-size: 1.15rem;
      font-weight: bold;
      letter-spacing: 2px;
      text-shadow: 0 1px 0 #fffbe6;
    }
    .form-select {
      border-radius: 12px;
      border: 2px solid #A94442;
    }
    .card {
      border-radius: 18px;
      box-shadow: 0 4px 16px rgba(169,68,66,0.09);
      border: none;
      background: linear-gradient(135deg, #fffbe6 60%, #f7cac9 100%);
      transition: transform 0.2s;
      position: relative;
      opacity: 0.97;
    }
    .card:hover {
      transform: translateY(-6px) scale(1.03);
      box-shadow: 0 8px 32px rgba(169,68,66,0.18);
    }
    .card-title {
      font-size: 1.2rem;
      color: #A94442;
      font-weight: bold;
      letter-spacing: 2px;
      margin-bottom: 0.6rem;
      display: flex;
      align-items: center;
    }
    .card-title::before {
      content: "🍜";
      margin-right: 7px;
      font-size: 1.2em;
    }
    .card-text {
      color: #6c5b7b;
      font-size: 1rem;
    }
    .btn-primary {
      background-color: #A94442;
      border: none;
      border-radius: 12px;
      font-weight: bold;
      letter-spacing: 1px;
      transition: background 0.2s;
    }
    .btn-primary:hover {
      background-color: #d77a61;
    }
    .modal-header {
      background: repeating-linear-gradient(135deg, #A94442, #d77a61 10px, #fffbe6 20px);
      color: white;
      border-top-left-radius: 16px;
      border-top-right-radius: 16px;
      border-bottom: 2px solid #fffbe6;
      box-shadow: 0 2px 6px rgba(169,68,66,0.12);
    }
    .modal-content {
      border-radius: 16px;
      background: linear-gradient(120deg, #fffbe6 60%, #fff0f0 100%);
      border: 2px solid #A94442;
    }
    .list-group-item {
      font-size: 1.08rem;
      background: #fff2e6;
      border: none;
      border-bottom: 1px solid #f7cac9;
    }
    .list-group-item strong {
      color: #A94442;
    }
    .ratio {
      border-radius: 12px;
      overflow: hidden;
      border: 2px solid #d77a61;
      box-shadow: 0 2px 8px rgba(169,68,66,0.09);
      margin-top: 1rem;
    }
    @media (max-width: 768px) {
      .header-img { max-width: 100%; }
      .card-title { font-size: 1rem; }
      .card { border-radius: 12px; }
    }
  </style>
</head>
<body>
<nav class="navbar navbar-expand-lg mb-4">
  <div class="container">
    <span class="navbar-brand">台南米其林美食查詢</span>
  </div>
</nav>
<img src="https://storage.googleapis.com/chateverywhere_v2_bucket/fZYjw520250823044522?X-Goog-Algorithm=GOOG4-RSA-SHA256&X-Goog-Credential=chat-everywhere-383315%40appspot.gserviceaccount.com%2F20250823%2Fauto%2Fstorage%2Fgoog4_request&X-Goog-Date=20250823T044903Z&X-Goog-Expires=3600&X-Goog-SignedHeaders=host&X-Goog-Signature=1e79b9bb1198dc3f5385aa2a6fe1b5970d80c76e08365bf4377cfb501e7b8f010103ba0ed9c0aeefddc2ce8e179e9cad61bffb755ebd41f6b72d77dd1c20398c8bffb43a9353eb70e0e204cd469301ff106d6f4a1181db49f41c4b241bed8481c1c57206b4593fce54feddeebaf426aa5a1ddc93228d30310f6fbc97744e7fa6b1172c0cf3582296111e795c437427c84e62494fc35ec34548419ea68b353148e86246e7d40f2432bdfce1c4853e0c3888cea96873ddbb689d360ecacecbf38e8aca5759e61c188aa36f0a03a4f33510b904f1e6b60ea65a2458b9dbea2db2a093693a85c9b787a90297b78b310ef2f6941e27e0ec6fc093d7a62beb74b0e627" class="header-img" alt="台南米其林美食地圖">

<div class="container">
  <div class="switch-group">
    <button class="switch-btn active" id="btnArea" onclick="switchMode('area')">依地區查詢</button>
    <button class="switch-btn" id="btnType" onclick="switchMode('type')">依餐廳類別查詢</button>
  </div>
  <div class="mb-3" id="selectAreaDiv">
    <label for="zoneSelect" class="form-label">請選擇分區：</label>
    <select class="form-select" id="zoneSelect"></select>
  </div>
  <div class="mb-3 d-none" id="selectTypeDiv">
    <label for="typeSelect" class="form-label">請選擇餐廳類別：</label>
    <select class="form-select" id="typeSelect"></select>
  </div>
  <div id="storeList" class="row"></div>
</div>

<!-- Modal -->
<div class="modal fade" id="storeModal" tabindex="-1">
  <div class="modal-dialog modal-lg">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="storeModalLabel"></h5>
        <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"></button>
      </div>
      <div class="modal-body" id="storeModalBody"></div>
    </div>
  </div>
</div>

<script>
// 店家資料 JSON（完整資料）
const stores = [
  {"分區": "新化區", "店名": "蓮霧腳羊肉湯", "地址": "712 台南市新化區中正路361 號", "電話": "0937-789004", "評等": "必比登推介", "簡介": "羊肉湯、羊皮卷、肉燥飯"},
  {"分區": "中西區", "店名": "麥謎食驗室", "地址": "700 台南市中西區青年路90號", "電話": null, "評等": "必比登推介", "簡介": "創意麵食"},
  {"分區": "東區", "店名": "葉桑生炒鴨肉焿", "地址": "701 台南市東區林森路二段216號", "電話": "06-2095895", "評等": "必比登推介", "簡介": "鴨肉羹、鴨肉飯"},
  {"分區": "中西區", "店名": "添厚", "地址": "700 台南市中西區新美街125巷3號", "電話": "06-2229109", "評等": "必比登推介", "簡介": "金銀蛋時蔬、魷魚螺肉蒜"},
  {"分區": "中西區", "店名": "阿星鹹粥", "地址": "700 台南市中西區民族路三段289號", "電話": "06-2200941", "評等": "必比登推介", "簡介": "虱目魚粥、乾拌虱目魚"},
  {"分區": "北區", "店名": "阿興虱目魚", "地址": "704台南市北區文賢路252號", "電話": "06-3504623", "評等": "必比登推介", "簡介": "煎魚肚、虱目魚魚腸、豬頭飯"},
  {"分區": "中西區", "店名": "阿美飯店", "地址": "700 台南市中西區民權路二段98號", "電話": "06-2222848", "評等": "必比登推介", "簡介": "砂鍋鴨、桂花干貝、洋燒花枝、肉米蝦"},
  {"分區": "北門區", "店名": "田媽媽長盈海味屋", "地址": "727 台南市北門區三寮灣慈安里 484號", "電話": "0917-549736", "評等": "必比登推介", "簡介": "虱目魚菲力、三杯虱目魚香腸"},
  {"分區": "中西區", "店名": "大勇街無名鹹粥", "地址": "700 台南市中西區大勇街85號", "電話": "06-2267028", "評等": "必比登推介", "簡介": "鹹粥"},
  {"分區": "安南區", "店名": "東香台菜海味料理", "地址": "709台南市安南區安中路六段217號", "電話": "06-2573888", "評等": "必比登推介", "簡介": "芋泥紫金雞腿、蝦捲"},
  {"分區": "中西區", "店名": "福泰飯桌第三代", "地址": "700 台南市中西區民族路二段219號", "電話": "06-2218608", "評等": "必比登推介", "簡介": "肉燥飯、虱目魚柳"},
  {"分區": "中西區", "店名": "八寶彬圓仔惠(國華街)", "地址": "700 台南市中西區國華街二段99號", "電話": "06-2263432", "評等": "必比登推介", "簡介": "剉冰"},
  {"分區": "北區", "店名": "開元紅燒土魠魚羹", "地址": "704台南市北區開元路307號", "電話": "06-2373195", "評等": "必比登推介", "簡介": "土魠魚羹、炸土魠魚"},
  {"分區": "中西區", "店名": "落成米糕", "地址": "700 台南市中西區民族路二段241號", "電話": "06-2280874", "評等": "必比登推介", "簡介": "米糕、四神湯"},
  {"分區": "中西區", "店名": "無名羊肉湯", "地址": "700 台南市中西區府前路二段144號", "電話": "0934-130019", "評等": "必比登推介", "簡介": "羊肉湯、羊雜"},
  {"分區": "中西區", "店名": "博仁堂", "地址": "700 台南市中西區西門路二段300巷27號", "電話": "06-2226473", "評等": "必比登推介", "簡介": "麻油麵線、冰糖百合銀耳、十全大補雞"},
  {"分區": "北區", "店名": "尚好吃牛肉湯", "地址": "704台南市北區北安路一段6號", "電話": "06-2812794", "評等": "必比登推介", "簡介": "牛肉湯、肉燥飯"},
  {"分區": "東區", "店名": "鮮蒸蝦仁肉圓", "地址": "701 台南市東區裕農路609號", "電話": "06-2364561", "評等": "必比登推介", "簡介": "蝦仁肉圓、四神湯、香菇肉羹"},
  {"分區": "中西區", "店名": "小公園擔仔麵", "地址": "700 台南市中西區西門路二段321號", "電話": "06-2265495", "評等": "必比登推介", "簡介": "擔仔麵、滷味"},
  {"分區": "中西區", "店名": "葉家小卷米粉", "地址": "700 台南市中西區國華街二段142號", "電話": "06-2226142", "評等": "必比登推介", "簡介": "小卷米粉"},
  {"分區": "中西區", "店名": "一味品", "地址": "700 台南市中西區國華街三段177號", "電話": "06-2288563", "評等": "必比登推介", "簡介": "碗粿、虱目魚魚羹"},
  {"分區": "中西區", "店名": "筑馨居", "地址": "700 台南市中西區信義街69號", "電話": "0927-307890", "評等": "必比登推介", "簡介": "無菜單台式料理"},
  {"分區": "中西區", "店名": "吃麵吧", "地址": "700 台南市中西區保安路159之1號", "電話": "06-2231665", "評等": "必比登推介", "簡介": "炙燒牛舌松露醬拌麵、焦糖起司布丁"},
  {"分區": "中西區", "店名": "阿文米粿", "地址": "700 台南市中西區保安路74號", "電話": "0906-884704", "評等": "必比登推介", "簡介": "米粿"},
  {"分區": "中西區", "店名": "誠實鍋燒意麵", "地址": "700 台南市中西區西門路一段 702 巷12號", "電話": "0968-617018", "評等": "必比登推介", "簡介": "鍋燒意麵、蛤蠣鍋燒"},
  {"分區": "中西區", "店名": "三好一公道當歸鴨", "地址": "700 台南市中西區府前路一段2號", "電話": "06-2206858", "評等": "必比登推介", "簡介": "當歸鴨麵線"},
  {"分區": "南區", "店名": "好農家米糕", "地址": "702 台南市南區健康路二段66號", "電話": "06-2217181", "評等": "必比登推介", "簡介": "米糕、干貝白菜滷"},
  {"分區": "北區", "店名": "西羅殿牛肉湯", "地址": "704台南市北區公園南路98號", "電話": "06-2294056", "評等": "必比登推介", "簡介": "牛肉湯、肉燥飯"},
  {"分區": "中西區", "店名": "黃家蝦捲", "地址": "700 台南市中西區西和路268號", "電話": "06-3506209", "評等": "必比登推介", "簡介": "蝦捲"},
  {"分區": "安平區", "店名": "謝掌櫃", "地址": "708台南市安平區運河路23巷5號", "電話": "06-2213215", "評等": "必比登推介", "簡介": "海鮮粥、鹽蒸石斑魚"},
  {"分區": "東區", "店名": "FUKAI", "地址": "701 台南市東區東寧路512巷2號", "電話": "06-2387366", "評等": "米其林入選餐廳", "簡介": "法式創意料理"},
  {"分區": "中西區", "店名": "川泰號虱目魚丸", "地址": "700 台南市中西區大同路一段222號", "電話": "06-2160928", "評等": "米其林入選餐廳", "簡介": "脆丸湯、綜合湯、肉燥飯"},
  {"分區": "安平區", "店名": "傳家鹹粥", "地址": "708 台南市安平區慶平路410號", "電話": "06-2936960", "評等": "米其林入選餐廳", "簡介": "虱目魚粥、滷魚肚、肉燥飯"},
  {"分區": "北區", "店名": "喃喃餐桌", "地址": "704台南市北區民德路85巷63號", "電話": "0916-786592", "評等": "米其林入選餐廳", "簡介": "無菜單創意料理"},
  {"分區": "中西區", "店名": "繭小料理", "地址": "700 台南市中西區府前路二段206巷6號", "電話": null, "評等": "米其林入選餐廳", "簡介": "日式小料理"},
  {"分區": "七股區", "店名": "黑琵食堂", "地址": "724 台南市七股區十份里海埔17之18號", "電話": "0928-300155", "評等": "米其林入選餐廳", "簡介": "自家養殖新鮮海產"},
  {"分區": "安平區", "店名": "香草小餐酒", "地址": "708 台南市安平區永華路二段950號", "電話": "06-2990011", "評等": "米其林入選餐廳", "簡介": "無國界西式料理"},
  {"分區": "東區", "店名": "毛蔬", "地址": "701台南市東區府東街43號1樓", "電話": "06-2094699", "評等": "米其林入選餐廳", "簡介": "創意亞洲蔬食料理"},
  {"分區": "南區", "店名": "阿輝黑輪", "地址": "702台南市南區大林路121號", "電話": "0921-216792", "評等": "米其林入選餐廳", "簡介": "黑輪、關東煮、大腸包小腸"},
  {"分區": "東區", "店名": "寓點", "地址": "701 台南市東區東興路91 號", "電話": "06-2089495", "評等": "米其林入選餐廳", "簡介": "港式點心"},
  {"分區": "中西區", "店名": "Hara Peko", "地址": "700 台南市中西區永福路二段81巷13號", "電話": "06-2893765", "評等": "米其林入選餐廳", "簡介": "法式和風料理"},
  {"分區": "北區", "店名": "溫爸鵝肉", "地址": "704台南市北區西門路三段274號", "電話": "06-2237258", "評等": "米其林入選餐廳", "簡介": "鹽水鵝、鵝肉飯"},
  {"分區": "學甲區", "店名": "順德牛肉湯", "地址": "726 台南市學甲區民權路59號", "電話": "06-7820161", "評等": "米其林入選餐廳", "簡介": "牛肉湯、熱炒牛肉料理、肉燥飯"},
  {"分區": "中西區", "店名": "阿明豬心冬粉(保安路)", "地址": "700 台南市中西區保安路 72 號", "電話": "06-2233741", "評等": "米其林入選餐廳", "簡介": "豬心冬粉、排骨、鴨腳翅"},
  {"分區": "北區", "店名": "開元路無名虱目魚", "地址": "704台南市北區開元路313號", "電話": "06-2373556", "評等": "米其林入選餐廳", "簡介": "肉燥飯、魚皮湯、魚肚"},
  {"分區": "中西區", "店名": "阿村牛肉湯(保安路)", "地址": "700 台南市中西區保安路41 號", "電話": "06-2293908", "評等": "米其林入選餐廳", "簡介": "牛肉湯、高麗菜炒牛肉"},
  {"分區": "仁德區", "店名": "阿裕牛肉(崑崙路)", "地址": "717台南市仁德區崑崙路733之1號", "電話": "06-2795500", "評等": "米其林入選餐廳", "簡介": "牛肉鍋、芥藍炒牛肉"},
  {"分區": "東區", "店名": "饕弄杯", "地址": "701 台南市東區東榮街115巷47號", "電話": "06-2370355", "評等": "米其林入選餐廳", "簡介": "義式生魚片、松露炒蛋、蔬食料理"},
  {"分區": "東區", "店名": "帝一錦", "地址": "701 台南市東區東門路二段 161 巷1號", "電話": "06-2750011", "評等": "米其林入選餐廳", "簡介": "無菜單台式料理"},
  {"分區": "安平區", "店名": "橄饗家", "地址": "708 台南市安平區安北路590號", "電話": "06-3911687", "評等": "米其林入選餐廳", "簡介": "西班牙料理"},
  {"分區": "將軍區", "店名": "豐海鮮漁府", "地址": "725 台南市將軍區長沙里146之10號", "電話": "06-7930637", "評等": "米其林入選餐廳", "簡介": "螃蟹粥、三杯鱸鰻"},
  {"分區": "中西區", "店名": "有你真好湘菜沙龍", "地址": "700 台南市中西區五妃街203號", "電話": "06-2157977", "評等": "米其林入選餐廳", "簡介": "飄香烤魚、毛氏紅燒肉、好湘啤酒鴨"},
  {"分區": "安平區", "店名": "牛五蔵", "地址": "708 台南市安平區建平路577號", "電話": "06-2970709", "評等": "米其林入選餐廳", "簡介": "台灣溫體牛鴛鴦鍋"},
  {"分區": "中西區", "店名": "欣欣餐廳", "地址": "700 台南市中西區民族路二段245號", "電話": "06-2222509", "評等": "米其林入選餐廳", "簡介": "古早味爆炒豬肝、酢醋蝦"},
  {"分區": "北區", "店名": "原則", "地址": "704台南市北區西華街34號", "電話": "06-2223244", "評等": "米其林入選餐廳", "簡介": "無菜單法式料理"},
  {"分區": "東區", "店名": "甘旨", "地址": "701 台南市東區崇仁街58號", "電話": "06-2678818", "評等": "米其林入選餐廳", "簡介": "握壽司、生魚片、割烹菜色、天婦羅"},
  {"分區": "龍崎區", "店名": "王家燻羊肉", "地址": "719 台南市龍崎區烏樹林34號", "電話": "06-5941393", "評等": "米其林入選餐廳", "簡介": "古法燻羊肉"},
  {"分區": "中西區", "店名": "再發號", "地址": "700 台南市中西區民權路二段71號", "電話": "06-2223577", "評等": "米其林入選餐廳", "簡介": "肉粽、八寶粽"},
  {"分區": "東區", "店名": "城邊真味炒鱔魚專家", "地址": "701 台南市東區東門路一段235號", "電話": "06-2091235", "評等": "米其林入選餐廳", "簡介": "炒鱔魚、炒花枝、麻油腰花"},
  {"分區": "中西區", "店名": "沙淘宮廟海產", "地址": "700 台南市中西區西門路二段86號", "電話": "06-2288321", "評等": "米其林入選餐廳", "簡介": "蛋包飯、台式炸豬排、關東煮"},
  {"分區": "楠西區", "店名": "揚梅吐氣", "地址": "715 台南市楠西區灣丘里1-5號", "電話": "06-5751617", "評等": "米其林入選餐廳", "簡介": "梅香肉、梅醬蛋豆腐、酸梅肥腸"}
];

// 餐廳類別自動萃取
function getTypes() {
  const types = new Set();
  stores.forEach(s => {
    // 依評等及簡介關鍵字歸類（可自訂）
    if (s.評等.includes('星')) types.add('星級餐廳');
    else if (s.評等.includes('必比登')) types.add('必比登推介');
    else if (s.評等.includes('入選')) types.add('米其林入選');
    if (s.簡介.includes('牛肉湯')) types.add('牛肉湯');
    if (s.簡介.includes('羊肉湯')) types.add('羊肉湯');
    if (s.簡介.includes('米糕')) types.add('米糕/米粿');
    if (s.簡介.includes('粥')) types.add('粥品');
    if (s.簡介.includes('麵')) types.add('麵食');
    if (s.簡介.includes('海鮮')) types.add('海鮮料理');
    if (s.簡介.includes('創意')) types.add('創意料理');
    if (s.簡介.includes('港式')) types.add('港式料理');
    if (s.簡介.includes('日式')) types.add('日式料理');
    if (s.簡介.includes('台式')) types.add('台式料理');
    if (s.簡介.includes('甜品') || s.簡介.includes('剉冰')) types.add('甜品/冰品');
  });
  return Array.from(types);
}

const zoneSelect = document.getElementById('zoneSelect');
const typeSelect = document.getElementById('typeSelect');
const storeList = document.getElementById('storeList');
const selectAreaDiv = document.getElementById('selectAreaDiv');
const selectTypeDiv = document.getElementById('selectTypeDiv');
const btnArea = document.getElementById('btnArea');
const btnType = document.getElementById('btnType');
const zones = [...new Set(stores.map(s => s.分區))];
const types = getTypes();

zoneSelect.innerHTML = zones.map(z => `<option value="${z}">${z}</option>`).join('');
typeSelect.innerHTML = types.map(t => `<option value="${t}">${t}</option>`).join('');
zoneSelect.addEventListener('change', () => renderStoreList('area'));
typeSelect.addEventListener('change', () => renderStoreList('type'));

function switchMode(mode) {
  if (mode === 'area') {
    btnArea.classList.add('active');
    btnType.classList.remove('active');
    selectAreaDiv.classList.remove('d-none');
    selectTypeDiv.classList.add('d-none');
    renderStoreList('area');
  } else {
    btnType.classList.add('active');
    btnArea.classList.remove('active');
    selectTypeDiv.classList.remove('d-none');
    selectAreaDiv.classList.add('d-none');
    renderStoreList('type');
  }
}

function renderStoreList(mode) {
  let filtered = [];
  if (mode === 'type') {
    const selectedType = typeSelect.value || types[0];
    filtered = stores.filter(s => {
      if (selectedType === '星級餐廳') return s.評等.includes('星');
      if (selectedType === '必比登推介') return s.評等.includes('必比登');
      if (selectedType === '米其林入選') return s.評等.includes('入選');
      if (selectedType === '牛肉湯') return s.簡介.includes('牛肉湯');
      if (selectedType === '羊肉湯') return s.簡介.includes('羊肉湯');
      if (selectedType === '米糕/米粿') return s.簡介.includes('米糕') || s.簡介.includes('米粿');
      if (selectedType === '粥品') return s.簡介.includes('粥');
      if (selectedType === '麵食') return s.簡介.includes('麵');
      if (selectedType === '海鮮料理') return s.簡介.includes('海鮮');
      if (selectedType === '創意料理') return s.簡介.includes('創意');
      if (selectedType === '港式料理') return s.簡介.includes('港式');
      if (selectedType === '日式料理') return s.簡介.includes('日式');
      if (selectedType === '台式料理') return s.簡介.includes('台式');
      if (selectedType === '甜品/冰品') return s.簡介.includes('甜品') || s.簡介.includes('剉冰');
      return false;
    });
  } else {
    const selectedZone = zoneSelect.value || zones[0];
    filtered = stores.filter(s => s.分區 === selectedZone);
  }
  storeList.innerHTML = filtered.map((s, idx) => `
    <div class="col-md-4 col-sm-6 mb-3">
      <div class="card shadow h-100">
        <div class="card-body d-flex flex-column justify-content-between">
          <h5 class="card-title">${s.店名}</h5>
          <p class="card-text">${s.評等}</p>
          <button class="btn btn-primary mt-2" onclick="showDetail(${stores.indexOf(s)})">詳細資料</button>
        </div>
      </div>
    </div>
  `).join('');
}

// 預設顯示依地區
switchMode('area');

function showDetail(idx) {
  const s = stores[idx];
  const query = encodeURIComponent(s.店名 + " " + s.地址);
  document.getElementById('storeModalLabel').innerText = s.店名;
  document.getElementById('storeModalBody').innerHTML = `
    <ul class="list-group mb-3">
      <li class="list-group-item"><strong>分區：</strong>${s.分區}</li>
      <li class="list-group-item"><strong>地址：</strong>${s.地址}</li>
      <li class="list-group-item"><strong>電話：</strong>${s.電話 ? s.電話 : '無'}</li>
      <li class="list-group-item"><strong>評等：</strong>${s.評等}</li>
      <li class="list-group-item"><strong>簡介：</strong>${s.簡介}</li>
    </ul>
    <div class="ratio ratio-16x9 mb-2">
      <iframe
        src="https://www.google.com/maps?q=${query}&output=embed"
        allowfullscreen
        loading="lazy"
        referrerpolicy="no-referrer-when-downgrade">
      </iframe>
    </div>
    <div style="font-size:0.9rem;color:#888">如有用戶上傳照片，會自動顯示於地圖資訊卡。</div>
  `;
  new bootstrap.Modal(document.getElementById('storeModal')).show();
}
</script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>